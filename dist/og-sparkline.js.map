{"version":3,"sources":["og-sparkline.es6.js"],"names":["Polymer","is","properties","width","type","Number","value","height","showXAxis","Boolean","showYAxis","axisWidth","axisColor","String","lineWidth","lineColor","chartData","Array","observer","curPosition","curPositionColor","curPositionRadius","hideTicks","_chartDataChanged","scopeSubtree","$","chartArea","d3","Px","margin","top","right","bottom","left","svg","select","append","attr","xScale","scaleLinear","range","yScale","valueline","line","x","d","y","data","forEach","domain","extent","max","chartPath","call","axisBottom","tickFormat","tickSize","axisLeft","length","selectAll","enter","style"],"mappings":"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","file":"og-sparkline.js","sourcesContent":["(function() {\n  Polymer({\n    is: 'og-sparkline',\n    properties: {\n      /**\n       * @property width\n       */\n      width: {\n        type: Number,\n        value: 200\n      },\n      /**\n       * @property height\n       */\n      height: {\n        type: Number,\n        value: 200\n      },\n      /**\n       * @property showXAxis\n       */\n      showXAxis: {\n        type: Boolean,\n        value: false\n      },\n      /**\n       * @property showYAxis\n       */\n      showYAxis: {\n        type: Boolean,\n        value: false\n      },\n      /**\n       * @property axisWidth\n       */\n      axisWidth: {\n        type: Number,\n        value: 1.5\n      },\n      /**\n       * @property axisColor\n       */\n      axisColor: {\n        type: String,\n        value: 'lightgray'\n      },\n      /**\n       * @property lineWidth\n       */\n      lineWidth: {\n        type: Number,\n        value: 2.5\n      },\n      /**\n       * @property lineColor\n       */\n      lineColor: {\n        type: String,\n        value: 'steelblue'\n      },\n      /**\n       * @property chartData\n       */\n      chartData: {\n        type: Array,\n        observer: '_chartDataChanged'\n      },\n      /**\n       * @property curPosition\n       */\n      curPosition: {\n        type: Array,\n        value: function() {\n          return [];\n        }\n      },\n      /**\n       * @property curPositionColor\n       */\n      curPositionColor: {\n        type: String,\n        value: 'steelblue'\n      },\n      /**\n       * @property curPositionRadius\n       */\n      curPositionRadius: {\n        type: Number,\n        value: 4\n      },\n      /**\n       * @property hideTicks\n       */\n      hideTicks: {\n        type: Boolean,\n        value: false\n      }\n    },\n    _chartDataChanged: function() {\n      this.scopeSubtree(this.$.chartArea, true);\n      var d3 = Px.d3;\n      // set the dimensions and margins of the graph\n      var margin = {top: 10, right: 10, bottom: 15, left: 0},\n          width = +this.width - margin.left - margin.right,\n          height = +this.height - margin.top - margin.bottom;\n\n      if(!this.svg) {\n        this.svg = d3.select(this.$.chartArea).append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n          .append(\"g\")\n          .attr(\"transform\",\n            \"translate(\" + margin.left + \",\" + margin.top + \")\");\n      }\n\n      // set the ranges\n      var xScale = d3.scaleLinear().range([0, width]);\n      var yScale = d3.scaleLinear().range([height, 0]);\n\n      // define the line\n      var valueline = d3.line()\n          .x(function(d) { return xScale(d[0]); })\n          .y(function(d) { return yScale(d[1]); });\n\n      var svg = this.svg;\n\n      var data = this.chartData;\n      // format the data\n      data.forEach(function(d) {\n          d[0] = +d[0];\n          d[1] = +d[1];\n      });\n\n      // Scale the range of the data\n      xScale.domain(d3.extent(data, function(d) { return d[0]; }));\n      yScale.domain([0, d3.max(data, function(d) { return d[1]; })]);\n\n      var chartPath = this.svg.append(\"path\")\n          .data([data])\n            .attr(\"fill\", \"none\")\n            .attr(\"stroke\", this.lineColor)\n            .attr(\"stroke-linejoin\", \"round\")\n            .attr(\"stroke-linecap\", \"round\")\n            .attr(\"stroke-width\", +this.lineWidth)\n            .attr(\"d\", valueline);\n\n      // Add the X Axis\n      if(this.showXAxis && this.hideTicks) {\n        this.svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(xScale).tickFormat(function(d) {return ''}).tickSize(0));\n      } else if(this.showXAxis){\n        this.svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(xScale));\n      }\n\n      // Add the Y Axis\n      if(this.showYAxis && this.hideTicks) {\n        this.svg.append(\"g\")\n            .call(d3.axisLeft(yScale).tickFormat(function(d) {return ''}).tickSize(0));\n      } else if(this.showYAxis){\n        this.svg.append(\"g\")\n            .call(d3.axisLeft(yScale));\n      }\n      if(this.curPosition && this.curPosition.length) {\n        this.svg.selectAll(\"circle\")\n          .data([this.curPosition])\n          .enter()\n            .append(\"circle\")\n            .attr(\"cx\", function(d) {return xScale(+d[0])})\n            .attr(\"cy\", function(d) {return yScale(+d[1])})\n            .attr(\"r\", this.curPositionRadius)\n            .attr(\"fill\", this.curPositionColor);\n      }\n      this.svg.selectAll(\"path.domain\")\n       .style(\"stroke\", this.axisColor)\n       .style(\"stroke-width\", this.axisWidth);\n    }\n  });\n})();\n"]}